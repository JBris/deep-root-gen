_target_: deeprootgen.data_model.FormModel
components:
  parameters:
    collapsible: true
    children:
      - id: max-order-range-slider
        param: max_order_interval
        label: Maximum order
        help: The interval for the maximum root order
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 1
        max_value: 3
        kwargs:
          min: 1
          max: 5
          persistence: true
          pushable: false
          allowCross: false
      - id: root-ratio-range-slider
        param: root_ratio_interval
        label: Root ratio
        help: The interval for ratio between structural and fine roots
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.4
        max_value: 0.6
        kwargs:
          min: 0
          max: 1
          persistence: true
          pushable: false
          allowCross: false
      - id: fine-root-threshold-range-slider
        param: fine_root_threshold_interval
        label: Fine root threshold
        help: The interval for the threshold for classifying a root as a fine root, rather than a structural root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.04
        max_value: 0.06
        kwargs:
          min: 0
          max: 0.1
          persistence: true
          pushable: false
          allowCross: false
      - id: outer-primary-root-num-range-slider
        param: outer_root_num_interval
        label: Number of outer roots
        help: The interval for the number of outer primary roots to be generated
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 8
        max_value: 12
        kwargs:
          min: 0
          max: 20
          persistence: true
          pushable: false
          allowCross: false
      - id: inner-primary-root-num-range-slider
        param: inner_root_num_interval
        label: Number of inner roots
        help: The interval for the number of inner primary roots to be generated
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 6
        max_value: 10
        kwargs:
          min: 0
          max: 20
          persistence: true
          pushable: false
          allowCross: false
      - id: min-length-primary-root-range-slider
        param: min_primary_length_interval
        label: Primary root minimum length
        help: The interval for the minimum length of each primary root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 15
        max_value: 30
        kwargs:
          min: 1
          max: 50
          persistence: true
          pushable: false
          allowCross: false
      - id: max-length-primary-root-range-slider
        param: max_primary_length_interval
        label: Primary root maximum length
        help: The interval for the maximum length of each primary root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 25
        max_value: 35
        kwargs:
          min: 1
          max: 50
          persistence: true
          pushable: false
          allowCross: false
      - id: base-diameter-root-range-slider
        param: base_diameter_interval
        label: Base root diameter
        help: The interval for the base diameter of the first segment of each root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.05
        max_value: 0.2
        kwargs:
          min: 0.001
          max: 0.5
          persistence: true
          pushable: false
          allowCross: false
      - id: root-apex-range-slider
        param: apex_diameter_interval
        label: Apex diameter
        help: The interval for the diameter of the root apex (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.01
        max_value: 0.1
        kwargs:
          min: 0.01
          max: 0.2
          persistence: true
          pushable: false
          allowCross: false
      - id: diameter-reduction-factor-range-slider
        param: diameter_reduction_interval
        label: Diameter reduction
        help: The interval for the diameter reduction factor for subsequent root segments.
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.1
        max_value: 0.3
        kwargs:
          min: 0
          max: 1
          persistence: true
          pushable: false
          allowCross: false
      - id: min-num-secondary-roots-range-slider
        param: min_sec_root_num_interval
        label: Minimum number of secondary roots
        help: The interval for the minimum number of secondary roots to be generated
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 1
        max_value: 3
        kwargs:
          min: 0
          max: 10
          persistence: true
          pushable: false
          allowCross: false
      - id: max-num-secondary-roots-range-slider
        param: max_sec_root_num_interval
        label: Maximum number of secondary roots
        help: The interval for the maximum number of secondary roots to be generated
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 2
        max_value: 10
        kwargs:
          min: 0
          max: 20
          persistence: true
          pushable: false
          allowCross: false
      - id: secondary-root-growth-range-slider
        param: growth_sec_root_interval
        label: Secondary root growth rate
        help: The interval for the growth rate for the number of secondary roots per root order
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.1
        max_value: 0.3
        kwargs:
          min: 0
          max: 1
          persistence: true
          pushable: false
          allowCross: false
      - id: min-length-secondary-root-range-slider
        param: min_sec_root_length_interval
        label: Secondary root minimum length
        help: The interval for the minimum length of each secondary root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 80
        max_value: 120
        kwargs:
          min: 1
          max: 250
          persistence: true
          pushable: false
          allowCross: false
      - id: max-length-secondary-root-range-slider
        param: max_sec_root_length_interval
        label: Secondary root maximum length
        help: The interval for the maximum length of each secondary root (cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 150
        max_value: 250
        kwargs:
          min: 1
          max: 500
          persistence: true
          pushable: false
          allowCross: false
      - id: segments-per-root-range-slider
        param: segments_per_root_interval
        label: Segments per root
        help: The interval for the number of segments per root
        data_type: integer
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 20
        max_value: 50
        kwargs:
          min: 1
          max: 200
          persistence: true
          pushable: false
          allowCross: false
      - id: root-length-reduction-range-slider
        param: length_reduction_interval
        label: Length reduction
        help: The interval for the root length reduction factor
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.4
        max_value: 0.6
        kwargs:
          min: 0
          max: 1
          persistence: true
          pushable: false
          allowCross: false
      - id: root-vary-range-slider
        param: root_vary_interval
        label: Root segment variance
        help: The interval for the random variation in degrees of subsequent root segments along x, y, and z axes
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 10
        max_value: 60
        kwargs:
          min: 0
          max: 360
          persistence: true
          pushable: false
          allowCross: false
      - id: interbranch-distance-slider
        param: interbranch_distance_interval
        label: Interbranch distance
        help: The interval for the interbranch distance between roots
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.005
        max_value: 0.009
        kwargs:
          min: 0.001
          max: 0.01
          persistence: true
          pushable: false
          allowCross: false
      - id: mechanical-constraints-slider
        param: mechanical_constraints_interval
        label: Mechanical constraints
        help: The interval for the mechanical constraints of the roots (radial degrees/cm)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.3
        max_value: 0.6
        kwargs:
          min: 0.1
          max: 1
          persistence: true
          pushable: false
          allowCross: false
      - id: root-tissue-density-slider
        param: root_tissue_density_interval
        label: Root tissue density
        help: The interval for the root tissue density (g/cm3)
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 0.03
        max_value: 0.07
        kwargs:
          min: 0.01
          max: 0.1
          persistence: true
          pushable: false
          allowCross: false
      - id: gravitropism-slider
        param: gravitropism_interval
        label: Gravitropism factor
        help: The gravitropism factor for root development
        data_type: float
        class_name: dash.dcc.RangeSlider
        handler: range_slider
        min_value: 4
        max_value: 9
        kwargs:
          min: 1
          max: 10
          persistence: true
          pushable: false
          allowCross: false
      - id: random-seed-input
        param: random_seed
        label: Random seed
        help: The simulation random seed to ensure replicability
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          step: 1
          value: 0
          persistence: true
      - id: max-val-attempts-input
        param: max_val_attempts
        label: Maximum validation attempts
        help: The maximum number of attempts to validate each root (for plausibility) within the root system.
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 0
          max: 1000
          step: 1
          value: 50
          persistence: true
      - id: simulation-tag-input
        param: simulation_tag
        label: Simulation tag
        help: A tag to group together multiple simulations
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: text
          value: default
          persistence: true
  data:
    collapsible: true
    children:
      - id: upload-obs-data-file-button
        label: Upload  
        help: Upload observed data from a csv file
        class_name: dash.dcc.Upload
        handler: file_upload
        kwargs:
          children: Load observed data
      - id: clear-obs-data-file-button
        label: Clear
        help: Clear the observed data 
        class_name: dash_bootstrap_components.Button 
        kwargs:
          children: Clear data
          color: primary
          className: me-1
  abc:
    collapsible: true
    children:
      - id: draws-input
        param: draws
        label: Samples
        help: The number of samples to take for each chain of the Sequential Monte Carlo sampler
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: chains-input
        param: chains
        label: Chains
        help: The number of chains for the Sequential Monte Carlo sampler
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 4
          persistence: true
      - id: cores-input
        param: cores
        label: Cores
        help: The number of CPU cores to run the chains on. '-1' runs all chains in parallel.
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: -1
          step: 1
          value: 1
          persistence: true
      - id: select-summary-stats-dropdown
        param: summary_statistics
        label: Summary statistics  
        help: Select summary statistics for comparing simulated and observed data
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_summary_statistics
        kwargs:
          multi: true
          searchable: true
          clearable: true
          placeholder: Select summary statistics
      - id: stat-by-soil-layer-switch
        param: stat_by_soil_layer
        label: Statistics by soil layer
        help: Enable the calculation of summary statistics by soil layer within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: stat-by-soil-col-switch
        param: stat_by_soil_column
        label: Statistics by soil column
        help: Enable the calculation of summary statistics by soil column within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: distance-dropdown
        param: distance_metric
        label: Distance metric
        help: The distance metric to calculate the dissimilarity value
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_distance_metrics
        kwargs:
          multi: false
          searchable: true
          clearable: true
          placeholder: Select distance metric
      - id: epsilon-input
        param: epsilon
        label: Epsilon
        help: The dissimilarity threshold for the Approximate Bayesian Computation procedure
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 0
          step: 1
          value: 1
          persistence: true
  optimisation:
    collapsible: true
    children:
      - id: n-trials-input
        param: n_trials
        label: Trials
        help: The number of trials to perform for the Tree-structured Parzen Estimator optimiser  
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: n-startup-trials-input
        param: n_startup_trials 
        label: Startup trials
        help: The number of startup trials for the Tree-structured Parzen Estimator optimiser  
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: n-candidates-ei-input
        param: n_ei_candidates  
        label: Number of candidates
        help: The number of candidate samples for calculating the expected improvement for the Tree-structured Parzen Estimator optimiser  
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 24
          persistence: true
      - id: n-jobs-input
        param: n_jobs 
        label: Number of parallel trials
        help: The number of trials to run in parallel. '-1' runs all trials in parallel.
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number 
          min: -1
          step: 1
          value: 1
          persistence: true
      - id: select-summary-stats-dropdown
        param: summary_statistics
        label: Summary statistics  
        help: Select summary statistics for comparing simulated and observed data
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_summary_statistics
        kwargs:
          multi: true
          searchable: true
          clearable: true
          placeholder: Select summary statistics
      - id: stat-by-soil-layer-switch
        param: stat_by_soil_layer
        label: Statistics by soil layer
        help: Enable the calculation of summary statistics by soil layer within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: stat-by-soil-col-switch
        param: stat_by_soil_column
        label: Statistics by soil column
        help: Enable the calculation of summary statistics by soil column within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: distance-dropdown
        param: distance_metric
        label: Distance metric
        help: The distance metric to calculate the dissimilarity value
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_distance_metrics
        kwargs:
          multi: false
          searchable: true
          clearable: true
          placeholder: Select distance metric
  sensitivity_analysis:
    collapsible: true
    children:
      - id: n-samples-input
        param: n_samples
        label: Samples
        help: The number of samples for the Sobol sensitivity analysis
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 2
          value: 8
          persistence: true
      - id: select-summary-stats-dropdown
        param: summary_statistics
        label: Summary statistics  
        help: Select summary statistics for comparing simulated and observed data
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_summary_statistics
        kwargs:
          multi: true
          searchable: true
          clearable: true
          placeholder: Select summary statistics
      - id: stat-by-soil-layer-switch
        param: stat_by_soil_layer
        label: Statistics by soil layer
        help: Enable the calculation of summary statistics by soil layer within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: stat-by-soil-col-switch
        param: stat_by_soil_column
        label: Statistics by soil column
        help: Enable the calculation of summary statistics by soil column within the voxel grid
        class_name: dash_daq.BooleanSwitch.BooleanSwitch 
        kwargs: {}
      - id: distance-dropdown
        param: distance_metric
        label: Distance metric
        help: The distance metric to calculate the dissimilarity value
        class_name: dash.dcc.Dropdown
        handler: dropdown
        options_func: deeprootgen.statistics.get_distance_metrics
        kwargs:
          multi: false
          searchable: true
          clearable: true
          placeholder: Select distance metric
  snpe:
    collapsible: true
    children:
      - id: num-simulations-snpe-input
        param: n_simulations
        label: Number of simulations
        help: The number of simulations to run for training the Sequential Neural Posterior Estimation model
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: draws-input
        param: pp_samples
        label: Posterior predictive samples
        help: The number of samples to take from the posterior predictive distribution of the Sequential Neural Posterior Estimation model
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: num-hidden-features-input
        param: nn_num_hidden_features
        label: Number of hidden features
        help: The number of hidden features for the neural spline flow density estimator
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 120
          persistence: true
      - id: num-transforms-input
        param: nn_num_transforms
        label: Number of transforms
        help: The number of transformations for the neural spline flow density estimator
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true
      - id: sbc-samples-input
        param: sbc_draws
        label: Calibration samples
        help: The number of samples to take for simulation-based calibration of the Sequential Neural Posterior Estimation model
        class_name: dash_bootstrap_components.Input 
        kwargs:
          type: number
          min: 1
          step: 1
          value: 10
          persistence: true